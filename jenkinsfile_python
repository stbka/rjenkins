pipeline {
    agent { 
	docker { image 'python:2.7-alpine' }
    }
    stages {
        stage('Identification') {
            steps {
                sh 'echo "Whoami: $(whoami)"'
                sh 'echo "Working dir: $(pwd)"'
                sh 'echo "More detailed user attr: $(id)"'
            }
        }
        stage('Execution') {
            steps { 
                sh 'ls -l'
	    }
        }
    }
      
    post {
        always {
            sh 'echo "This runs always"'
	    deleteDir() /* Clean up workspace */
        }
        success {
            sh 'echo "This runs when job was successful."'
        }
        failure {
            sh 'echo "This runs when job was failed."'
        }
        unstable {
            sh 'echo "This runs when job was marked as unstable"'
        }
        changed {
            sh 'echo "This runs when execution status changed."'
        }
    }
}
